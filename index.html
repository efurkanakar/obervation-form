<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Observation Form</title>
    <!-- EmailJS kütüphanesini ekliyoruz -->
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("SPZ4gMRCG9sHemlE7"); // API Public Key'i buraya ekliyoruz
        })();
    </script>
</head>
<body>

    <h1>Observation Form</h1>

    <form id="observation-form">
        <label for="observer_name">Observer Name:</label>
        <input type="text" id="observer_name" name="from_name" required><br><br> <!-- 'from_name' olmalı -->

        <label for="observed_stars">Observed Stars:</label>
        <input type="text" id="observed_stars" name="observed_stars" required><br><br> <!-- 'observed_stars' -->

        <label for="filter">Filter:</label>
        <input type="text" id="filter" name="filter"><br><br> <!-- 'filter' -->

        <label for="exposure_time">Exposure Time:</label>
        <input type="text" id="exposure_time" name="exposure_time"><br><br> <!-- 'exposure_time' -->

        <label for="binning">Binning:</label>
        <input type="text" id="binning" name="binning"><br><br> <!-- 'binning' -->

        <label for="additional_info">Additional Info:</label>
        <textarea id="additional_info" name="message"></textarea><br><br> <!-- 'message' -->

        <button type="submit" onclick="sendMail(); return false;">Submit</button>
    </form>

    <script type="text/javascript">
        function sendMail() {
            var form = document.getElementById('observation-form');

            // Form verilerini EmailJS ile gönderiyoruz
            emailjs.sendForm('service_r7cv4z9', 'template_ah4hbac', form)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    alert("Form successfully submitted!");
                }, function(error) {
                    console.log('FAILED...', error);
                    alert("Failed to send the form. Please try again.");
                });
        }
    </script>

</body>
</html>
